#!/usr/bin/env sh

echo "ğŸ¨ Formattazione codice con Prettier..."
npx prettier --write "src/**/*.{ts,tsx,js,jsx,json,css,md}"

echo "ğŸ” Controllo ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint ha rilevato errori. Commit bloccato!"
  exit 1
fi

echo "ğŸ§ª Controllo TypeScript (type-check)..."
npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ Errori di TypeScript rilevati. Commit bloccato!"
  exit 1
fi

echo "âœ… Pre-commit completato!"